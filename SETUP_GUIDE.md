ğŸš€ Options Risk Analysis - Complete Setup Guide
ğŸ“‹ Prerequisites
Python 3.8+ installed
Node.js 18+ and npm installed
Your stock dataset CSV file(s) in backend/data/raw/
ğŸ”§ Step-by-Step Setup
Step 1: Backend Setup
1.1 Navigate to backend folder
bash
cd backend
1.2 Create virtual environment
bash
python -m venv venv

# Activate it:
# On macOS/Linux:
source venv/bin/activate
# On Windows:
venv\Scripts\activate
1.3 Install dependencies
bash
pip install -r requirements.txt
1.4 Process your dataset
bash
python data/raw/preprocess_data.py
Expected output:

============================================================
Historical Volatility Calculator
============================================================
Found 1 CSV file(s)

Processing your_file.csv...
  Found 3 unique tickers: PTON, CROX, ADDYY
    PTON: Ïƒ=0.4523, Price=$6.64, N=252
    CROX: Ïƒ=0.3891, Price=$107.34, N=252
    ADDYY: Ïƒ=0.2456, Price=$121.93, N=252

============================================================
âœ“ Processed 3 tickers
âœ“ Output saved to: backend/data/processed/volatility.json
============================================================
1.5 Start the Flask backend
bash
python app.py
You should see:

============================================================
Options Risk Analysis Backend
============================================================
Tickers loaded: 3
Server starting on http://127.0.0.1:5000
============================================================
âœ… Backend is now running on port 5000

Step 2: Frontend Setup
2.1 Open a NEW terminal and navigate to frontend
bash
cd frontend
2.2 Install dependencies
bash
npm install
2.3 Start the development server
bash
npm run dev
You should see:

  VITE v6.0.3  ready in 234 ms

  âœ  Local:   http://localhost:5173/
  âœ  Network: use --host to expose
âœ… Frontend is now running on port 5173

ğŸ¯ Using the Application
Step 1: Open the Dashboard
Navigate to: http://localhost:5173

Step 2: Select a Stock
Search for a ticker (e.g., "PTON")
Click to select it
Volatility and price will auto-populate
Step 3: Build Your Portfolio
Add options positions:

Type: Call or Put
Side: Long or Short
Quantity: Number of contracts
Strike Price: Exercise price
Time to Expiry: In years (e.g., 0.5 = 6 months)
Volatility: Auto-filled from dataset
Click "Add Position" after each entry.

Step 4: Analyze
Click "ğŸ“Š Analyze Portfolio"

You'll see:

Portfolio value
All Greeks (Delta, Gamma, Vega, Theta, Rho)
Individual position breakdown
Greeks visualization chart
Step 5: Run Monte Carlo Simulation
Click "Run Monte Carlo (10,000 paths)"

Results include:

Mean P&L
Standard deviation
Value at Risk (VaR) at 5% and 1%
Distribution histogram
ğŸ“ File Structure
OptionsRiskAnalysis/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â”œâ”€â”€ raw/               # Your CSV files go here
â”‚   â”‚   â”‚   â””â”€â”€ stocks.csv
â”‚   â”‚   â””â”€â”€ processed/
â”‚   â”‚       â””â”€â”€ volatility.json  # Generated by preprocess_data.py
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â””â”€â”€ black_scholes.py   # BS pricing and Greeks
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ portfolio.py       # Portfolio analytics
â”‚   â”‚   â””â”€â”€ monte_carlo.py     # MC simulation
â”‚   â”œâ”€â”€ app.py                 # Flask API
â”‚   â””â”€â”€ requirements.txt
â”‚
â””â”€â”€ frontend/
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ components/
    â”‚   â”‚   â”œâ”€â”€ TickerSelector.tsx
    â”‚   â”‚   â”œâ”€â”€ PositionForm.tsx
    â”‚   â”‚   â”œâ”€â”€ PortfolioSummary.tsx
    â”‚   â”‚   â”œâ”€â”€ GreeksChart.tsx
    â”‚   â”‚   â””â”€â”€ MonteCarloChart.tsx
    â”‚   â”œâ”€â”€ pages/
    â”‚   â”‚   â””â”€â”€ Dashboard.tsx
    â”‚   â”œâ”€â”€ api.ts
    â”‚   â”œâ”€â”€ App.tsx
    â”‚   â””â”€â”€ main.tsx
    â””â”€â”€ package.json
ğŸ” Testing Your Setup
Test Backend API:
bash
# Test health endpoint
curl http://127.0.0.1:5000/health

# Get all tickers
curl http://127.0.0.1:5000/market/tickers

# Get specific ticker
curl http://127.0.0.1:5000/market/volatility/PTON
Example Portfolio Analysis Request:
bash
curl -X POST http://127.0.0.1:5000/portfolio/analyze \
  -H "Content-Type: application/json" \
  -d '{
    "portfolio": [
      {
        "type": "call",
        "side": "long",
        "quantity": 1,
        "strike": 110,
        "time_to_expiry": 0.5,
        "volatility": 0.35
      }
    ],
    "current_price": 107.34,
    "risk_free_rate": 0.03,
    "ticker": "CROX"
  }'
ğŸ› Troubleshooting
Backend Issues:
Problem: FileNotFoundError: volatility.json Solution: Run python data/raw/preprocess_data.py first

Problem: ModuleNotFoundError: No module named 'flask' Solution: Make sure virtual environment is activated and run pip install -r requirements.txt

Problem: Port 5000 already in use Solution: Kill the process using port 5000 or change the port in app.py

Frontend Issues:
Problem: CORS error when calling API Solution: Make sure backend is running and CORS is enabled in app.py

Problem: Cannot connect to backend Solution: Verify backend is running on http://127.0.0.1:5000

ğŸ“Š Dataset Requirements
Your CSV must have these columns:

Date - Trading date
Close - Closing price
Ticker - Stock symbol
Optional columns:

Open, High, Low, Volume
Brand_Name, Industry_Tag, Country
Minimum data: 30 trading days per ticker

ğŸ¨ Customization
Add More Stocks:
Add CSV files to backend/data/raw/
Run python data/raw/preprocess_data.py
Restart backend
Change Risk-Free Rate:
Update in the Dashboard UI or modify default in Dashboard.tsx

Adjust Monte Carlo Parameters:
In MonteCarloChart.tsx, change:

n_simulations: Number of paths (default: 10,000)
horizon: Time horizon in years (default: 0.5)
ğŸš€ Next Steps
Add more stocks to your dataset
Implement portfolio strategies (spreads, straddles, etc.)
Add real-time data integration
Export results to PDF/Excel
Add more visualizations (3D surface plots, heat maps)
ğŸ“ Example Workflow
1. Start backend  â†’ python app.py
2. Start frontend â†’ npm run dev
3. Select CROX
4. Add Call: Long, 1 contract, $110 strike, 6 months
5. Add Put: Short, 1 contract, $100 strike, 6 months
6. Analyze Portfolio â†’ See Greeks
7. Run Monte Carlo â†’ See risk distribution
